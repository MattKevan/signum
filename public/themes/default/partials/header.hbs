{{! 
  This header component provides the site title and navigation.
  It uses Tachyons for styling and Alpine.js for the mobile menu toggle.
  - `x-data="{ isMobileMenuOpen: false }"`: Initializes the Alpine component state.
  - `@click="isMobileMenuOpen = !isMobileMenuOpen"`: Toggles the state on button click.
  - `x-show="isMobileMenuOpen"`: Conditionally shows/hides the mobile menu panel.
  - ARIA attributes (`aria-controls`, `aria-expanded`) are used for accessibility.
  - Tachyons responsive classes (`dn`, `db-ns`) handle desktop vs. mobile visibility.
}}
<header class="w-100 bb b--black-10 bg-white-80" style="backdrop-filter: blur(8px);">
    <div class="mw8 center ph3 ph4-ns">
        <div class="flex h3 items-center justify-between">
            
            {{!-- Site Logo/Title --}}
            <div class="flex-shrink-0">
                {{!-- The `link` class removes default underline, `dim` adds a hover effect. --}}
                <a href="/" class="link dim f4 fw7 near-black">
                    {{manifest.title}}
                </a>
            </div>

            {{!-- Desktop Navigation --}}
            {{!-- `dn` (display: none) on mobile, `db-ns` (display: block) on screens "not small" --}}
            <nav class="dn db-ns">
                {{#each navLinks}}
                    <a href="{{this.href}}" class="link dim gray f6 fw5 mh3">
                        {{this.label}}
                    </a>
                {{/each}}
            </nav>

            {{!-- Mobile Menu Button --}}
            {{!-- `db` (display: block) on mobile, `dn-ns` (display: none) on screens "not small" --}}
            <div class="db dn-ns">
                <button 
                    @click="isMobileMenuOpen = !isMobileMenuOpen" 
                    type="button" 
                    class="button-reset bg-transparent bn pa2"
                    aria-controls="mobile-menu" 
                    :aria-expanded="isMobileMenuOpen.toString()"
                >
                    <span class="sr-only">Open main menu</span>
                    
                    {{!-- Hamburger Icon (visible when menu is closed) --}}
                    <svg x-show="!isMobileMenuOpen" class="h2 w2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                    </svg>
                    
                    {{!-- Close (X) Icon (visible when menu is open) --}}
                    {{!-- `x-cloak` prevents the icon from flashing on page load before Alpine initializes. --}}
                    <svg x-show="isMobileMenuOpen" x-cloak class="h2 w2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

        </div>
    </div>

    {{!-- Mobile Menu Panel --}}
    {{!-- This panel is shown or hidden by Alpine based on the `isMobileMenuOpen` state. --}}
    {{!-- `x-transition` adds a smooth fade/scale effect. --}}
    <div 
        x-show="isMobileMenuOpen" 
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 scale-95"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-95"
        class="db dn-ns bb b--black-10" 
        id="mobile-menu"
        x-cloak
    >
        <div class="pa3">
            {{#each navLinks}}
                <a 
                    href="{{this.href}}" 
                    class="db link dim near-black f6 pa2 br2 hover-bg-light-gray"
                    {{!-- Clicking a link closes the mobile menu --}}
                    @click="isMobileMenuOpen = false"
                >
                    {{this.label}}
                </a>
            {{/each}}
        </div>
    </div>
</header>